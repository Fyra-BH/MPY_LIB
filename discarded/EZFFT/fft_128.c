#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include "ez_fft.h"

void fft_128(float* buff)
{
    complex_t* buff_c = (complex_t*)malloc(sizeof(complex_t) * 128);
    //将原序列的序号比特翻转，并存入临时数组
    for (size_t i = 0; i < 128; i++)
    {
        buff_c[i].re = *(buff + 2 * bit_reverse(i, 7));
        buff_c[i].im = *(buff + 2 * bit_reverse(i, 7) + 1);
    }
    complex_t w0 = W(128, 0);
    complex_t w1 = W(128, 1);
    complex_t w2 = W(128, 2);
    complex_t w3 = W(128, 3);
    complex_t w4 = W(128, 4);
    complex_t w5 = W(128, 5);
    complex_t w6 = W(128, 6);
    complex_t w7 = W(128, 7);
    complex_t w8 = W(128, 8);
    complex_t w9 = W(128, 9);
    complex_t w10 = W(128, 10);
    complex_t w11 = W(128, 11);
    complex_t w12 = W(128, 12);
    complex_t w13 = W(128, 13);
    complex_t w14 = W(128, 14);
    complex_t w15 = W(128, 15);
    complex_t w16 = W(128, 16);
    complex_t w17 = W(128, 17);
    complex_t w18 = W(128, 18);
    complex_t w19 = W(128, 19);
    complex_t w20 = W(128, 20);
    complex_t w21 = W(128, 21);
    complex_t w22 = W(128, 22);
    complex_t w23 = W(128, 23);
    complex_t w24 = W(128, 24);
    complex_t w25 = W(128, 25);
    complex_t w26 = W(128, 26);
    complex_t w27 = W(128, 27);
    complex_t w28 = W(128, 28);
    complex_t w29 = W(128, 29);
    complex_t w30 = W(128, 30);
    complex_t w31 = W(128, 31);
    complex_t w32 = W(128, 32);
    complex_t w33 = W(128, 33);
    complex_t w34 = W(128, 34);
    complex_t w35 = W(128, 35);
    complex_t w36 = W(128, 36);
    complex_t w37 = W(128, 37);
    complex_t w38 = W(128, 38);
    complex_t w39 = W(128, 39);
    complex_t w40 = W(128, 40);
    complex_t w41 = W(128, 41);
    complex_t w42 = W(128, 42);
    complex_t w43 = W(128, 43);
    complex_t w44 = W(128, 44);
    complex_t w45 = W(128, 45);
    complex_t w46 = W(128, 46);
    complex_t w47 = W(128, 47);
    complex_t w48 = W(128, 48);
    complex_t w49 = W(128, 49);
    complex_t w50 = W(128, 50);
    complex_t w51 = W(128, 51);
    complex_t w52 = W(128, 52);
    complex_t w53 = W(128, 53);
    complex_t w54 = W(128, 54);
    complex_t w55 = W(128, 55);
    complex_t w56 = W(128, 56);
    complex_t w57 = W(128, 57);
    complex_t w58 = W(128, 58);
    complex_t w59 = W(128, 59);
    complex_t w60 = W(128, 60);
    complex_t w61 = W(128, 61);
    complex_t w62 = W(128, 62);
    complex_t w63 = W(128, 63);
//第1轮运算
   butterfly_compu(&buff_c[0], &buff_c[1], w0);
   butterfly_compu(&buff_c[2], &buff_c[3], w0);
   butterfly_compu(&buff_c[4], &buff_c[5], w0);
   butterfly_compu(&buff_c[6], &buff_c[7], w0);
   butterfly_compu(&buff_c[8], &buff_c[9], w0);
   butterfly_compu(&buff_c[10], &buff_c[11], w0);
   butterfly_compu(&buff_c[12], &buff_c[13], w0);
   butterfly_compu(&buff_c[14], &buff_c[15], w0);
   butterfly_compu(&buff_c[16], &buff_c[17], w0);
   butterfly_compu(&buff_c[18], &buff_c[19], w0);
   butterfly_compu(&buff_c[20], &buff_c[21], w0);
   butterfly_compu(&buff_c[22], &buff_c[23], w0);
   butterfly_compu(&buff_c[24], &buff_c[25], w0);
   butterfly_compu(&buff_c[26], &buff_c[27], w0);
   butterfly_compu(&buff_c[28], &buff_c[29], w0);
   butterfly_compu(&buff_c[30], &buff_c[31], w0);
   butterfly_compu(&buff_c[32], &buff_c[33], w0);
   butterfly_compu(&buff_c[34], &buff_c[35], w0);
   butterfly_compu(&buff_c[36], &buff_c[37], w0);
   butterfly_compu(&buff_c[38], &buff_c[39], w0);
   butterfly_compu(&buff_c[40], &buff_c[41], w0);
   butterfly_compu(&buff_c[42], &buff_c[43], w0);
   butterfly_compu(&buff_c[44], &buff_c[45], w0);
   butterfly_compu(&buff_c[46], &buff_c[47], w0);
   butterfly_compu(&buff_c[48], &buff_c[49], w0);
   butterfly_compu(&buff_c[50], &buff_c[51], w0);
   butterfly_compu(&buff_c[52], &buff_c[53], w0);
   butterfly_compu(&buff_c[54], &buff_c[55], w0);
   butterfly_compu(&buff_c[56], &buff_c[57], w0);
   butterfly_compu(&buff_c[58], &buff_c[59], w0);
   butterfly_compu(&buff_c[60], &buff_c[61], w0);
   butterfly_compu(&buff_c[62], &buff_c[63], w0);
   butterfly_compu(&buff_c[64], &buff_c[65], w0);
   butterfly_compu(&buff_c[66], &buff_c[67], w0);
   butterfly_compu(&buff_c[68], &buff_c[69], w0);
   butterfly_compu(&buff_c[70], &buff_c[71], w0);
   butterfly_compu(&buff_c[72], &buff_c[73], w0);
   butterfly_compu(&buff_c[74], &buff_c[75], w0);
   butterfly_compu(&buff_c[76], &buff_c[77], w0);
   butterfly_compu(&buff_c[78], &buff_c[79], w0);
   butterfly_compu(&buff_c[80], &buff_c[81], w0);
   butterfly_compu(&buff_c[82], &buff_c[83], w0);
   butterfly_compu(&buff_c[84], &buff_c[85], w0);
   butterfly_compu(&buff_c[86], &buff_c[87], w0);
   butterfly_compu(&buff_c[88], &buff_c[89], w0);
   butterfly_compu(&buff_c[90], &buff_c[91], w0);
   butterfly_compu(&buff_c[92], &buff_c[93], w0);
   butterfly_compu(&buff_c[94], &buff_c[95], w0);
   butterfly_compu(&buff_c[96], &buff_c[97], w0);
   butterfly_compu(&buff_c[98], &buff_c[99], w0);
   butterfly_compu(&buff_c[100], &buff_c[101], w0);
   butterfly_compu(&buff_c[102], &buff_c[103], w0);
   butterfly_compu(&buff_c[104], &buff_c[105], w0);
   butterfly_compu(&buff_c[106], &buff_c[107], w0);
   butterfly_compu(&buff_c[108], &buff_c[109], w0);
   butterfly_compu(&buff_c[110], &buff_c[111], w0);
   butterfly_compu(&buff_c[112], &buff_c[113], w0);
   butterfly_compu(&buff_c[114], &buff_c[115], w0);
   butterfly_compu(&buff_c[116], &buff_c[117], w0);
   butterfly_compu(&buff_c[118], &buff_c[119], w0);
   butterfly_compu(&buff_c[120], &buff_c[121], w0);
   butterfly_compu(&buff_c[122], &buff_c[123], w0);
   butterfly_compu(&buff_c[124], &buff_c[125], w0);
   butterfly_compu(&buff_c[126], &buff_c[127], w0);
//第2轮运算
   butterfly_compu(&buff_c[0], &buff_c[2], w0);
   butterfly_compu(&buff_c[1], &buff_c[3], w32);
   butterfly_compu(&buff_c[4], &buff_c[6], w0);
   butterfly_compu(&buff_c[5], &buff_c[7], w32);
   butterfly_compu(&buff_c[8], &buff_c[10], w0);
   butterfly_compu(&buff_c[9], &buff_c[11], w32);
   butterfly_compu(&buff_c[12], &buff_c[14], w0);
   butterfly_compu(&buff_c[13], &buff_c[15], w32);
   butterfly_compu(&buff_c[16], &buff_c[18], w0);
   butterfly_compu(&buff_c[17], &buff_c[19], w32);
   butterfly_compu(&buff_c[20], &buff_c[22], w0);
   butterfly_compu(&buff_c[21], &buff_c[23], w32);
   butterfly_compu(&buff_c[24], &buff_c[26], w0);
   butterfly_compu(&buff_c[25], &buff_c[27], w32);
   butterfly_compu(&buff_c[28], &buff_c[30], w0);
   butterfly_compu(&buff_c[29], &buff_c[31], w32);
   butterfly_compu(&buff_c[32], &buff_c[34], w0);
   butterfly_compu(&buff_c[33], &buff_c[35], w32);
   butterfly_compu(&buff_c[36], &buff_c[38], w0);
   butterfly_compu(&buff_c[37], &buff_c[39], w32);
   butterfly_compu(&buff_c[40], &buff_c[42], w0);
   butterfly_compu(&buff_c[41], &buff_c[43], w32);
   butterfly_compu(&buff_c[44], &buff_c[46], w0);
   butterfly_compu(&buff_c[45], &buff_c[47], w32);
   butterfly_compu(&buff_c[48], &buff_c[50], w0);
   butterfly_compu(&buff_c[49], &buff_c[51], w32);
   butterfly_compu(&buff_c[52], &buff_c[54], w0);
   butterfly_compu(&buff_c[53], &buff_c[55], w32);
   butterfly_compu(&buff_c[56], &buff_c[58], w0);
   butterfly_compu(&buff_c[57], &buff_c[59], w32);
   butterfly_compu(&buff_c[60], &buff_c[62], w0);
   butterfly_compu(&buff_c[61], &buff_c[63], w32);
   butterfly_compu(&buff_c[64], &buff_c[66], w0);
   butterfly_compu(&buff_c[65], &buff_c[67], w32);
   butterfly_compu(&buff_c[68], &buff_c[70], w0);
   butterfly_compu(&buff_c[69], &buff_c[71], w32);
   butterfly_compu(&buff_c[72], &buff_c[74], w0);
   butterfly_compu(&buff_c[73], &buff_c[75], w32);
   butterfly_compu(&buff_c[76], &buff_c[78], w0);
   butterfly_compu(&buff_c[77], &buff_c[79], w32);
   butterfly_compu(&buff_c[80], &buff_c[82], w0);
   butterfly_compu(&buff_c[81], &buff_c[83], w32);
   butterfly_compu(&buff_c[84], &buff_c[86], w0);
   butterfly_compu(&buff_c[85], &buff_c[87], w32);
   butterfly_compu(&buff_c[88], &buff_c[90], w0);
   butterfly_compu(&buff_c[89], &buff_c[91], w32);
   butterfly_compu(&buff_c[92], &buff_c[94], w0);
   butterfly_compu(&buff_c[93], &buff_c[95], w32);
   butterfly_compu(&buff_c[96], &buff_c[98], w0);
   butterfly_compu(&buff_c[97], &buff_c[99], w32);
   butterfly_compu(&buff_c[100], &buff_c[102], w0);
   butterfly_compu(&buff_c[101], &buff_c[103], w32);
   butterfly_compu(&buff_c[104], &buff_c[106], w0);
   butterfly_compu(&buff_c[105], &buff_c[107], w32);
   butterfly_compu(&buff_c[108], &buff_c[110], w0);
   butterfly_compu(&buff_c[109], &buff_c[111], w32);
   butterfly_compu(&buff_c[112], &buff_c[114], w0);
   butterfly_compu(&buff_c[113], &buff_c[115], w32);
   butterfly_compu(&buff_c[116], &buff_c[118], w0);
   butterfly_compu(&buff_c[117], &buff_c[119], w32);
   butterfly_compu(&buff_c[120], &buff_c[122], w0);
   butterfly_compu(&buff_c[121], &buff_c[123], w32);
   butterfly_compu(&buff_c[124], &buff_c[126], w0);
   butterfly_compu(&buff_c[125], &buff_c[127], w32);
//第3轮运算
   butterfly_compu(&buff_c[0], &buff_c[4], w0);
   butterfly_compu(&buff_c[1], &buff_c[5], w16);
   butterfly_compu(&buff_c[2], &buff_c[6], w32);
   butterfly_compu(&buff_c[3], &buff_c[7], w48);
   butterfly_compu(&buff_c[8], &buff_c[12], w0);
   butterfly_compu(&buff_c[9], &buff_c[13], w16);
   butterfly_compu(&buff_c[10], &buff_c[14], w32);
   butterfly_compu(&buff_c[11], &buff_c[15], w48);
   butterfly_compu(&buff_c[16], &buff_c[20], w0);
   butterfly_compu(&buff_c[17], &buff_c[21], w16);
   butterfly_compu(&buff_c[18], &buff_c[22], w32);
   butterfly_compu(&buff_c[19], &buff_c[23], w48);
   butterfly_compu(&buff_c[24], &buff_c[28], w0);
   butterfly_compu(&buff_c[25], &buff_c[29], w16);
   butterfly_compu(&buff_c[26], &buff_c[30], w32);
   butterfly_compu(&buff_c[27], &buff_c[31], w48);
   butterfly_compu(&buff_c[32], &buff_c[36], w0);
   butterfly_compu(&buff_c[33], &buff_c[37], w16);
   butterfly_compu(&buff_c[34], &buff_c[38], w32);
   butterfly_compu(&buff_c[35], &buff_c[39], w48);
   butterfly_compu(&buff_c[40], &buff_c[44], w0);
   butterfly_compu(&buff_c[41], &buff_c[45], w16);
   butterfly_compu(&buff_c[42], &buff_c[46], w32);
   butterfly_compu(&buff_c[43], &buff_c[47], w48);
   butterfly_compu(&buff_c[48], &buff_c[52], w0);
   butterfly_compu(&buff_c[49], &buff_c[53], w16);
   butterfly_compu(&buff_c[50], &buff_c[54], w32);
   butterfly_compu(&buff_c[51], &buff_c[55], w48);
   butterfly_compu(&buff_c[56], &buff_c[60], w0);
   butterfly_compu(&buff_c[57], &buff_c[61], w16);
   butterfly_compu(&buff_c[58], &buff_c[62], w32);
   butterfly_compu(&buff_c[59], &buff_c[63], w48);
   butterfly_compu(&buff_c[64], &buff_c[68], w0);
   butterfly_compu(&buff_c[65], &buff_c[69], w16);
   butterfly_compu(&buff_c[66], &buff_c[70], w32);
   butterfly_compu(&buff_c[67], &buff_c[71], w48);
   butterfly_compu(&buff_c[72], &buff_c[76], w0);
   butterfly_compu(&buff_c[73], &buff_c[77], w16);
   butterfly_compu(&buff_c[74], &buff_c[78], w32);
   butterfly_compu(&buff_c[75], &buff_c[79], w48);
   butterfly_compu(&buff_c[80], &buff_c[84], w0);
   butterfly_compu(&buff_c[81], &buff_c[85], w16);
   butterfly_compu(&buff_c[82], &buff_c[86], w32);
   butterfly_compu(&buff_c[83], &buff_c[87], w48);
   butterfly_compu(&buff_c[88], &buff_c[92], w0);
   butterfly_compu(&buff_c[89], &buff_c[93], w16);
   butterfly_compu(&buff_c[90], &buff_c[94], w32);
   butterfly_compu(&buff_c[91], &buff_c[95], w48);
   butterfly_compu(&buff_c[96], &buff_c[100], w0);
   butterfly_compu(&buff_c[97], &buff_c[101], w16);
   butterfly_compu(&buff_c[98], &buff_c[102], w32);
   butterfly_compu(&buff_c[99], &buff_c[103], w48);
   butterfly_compu(&buff_c[104], &buff_c[108], w0);
   butterfly_compu(&buff_c[105], &buff_c[109], w16);
   butterfly_compu(&buff_c[106], &buff_c[110], w32);
   butterfly_compu(&buff_c[107], &buff_c[111], w48);
   butterfly_compu(&buff_c[112], &buff_c[116], w0);
   butterfly_compu(&buff_c[113], &buff_c[117], w16);
   butterfly_compu(&buff_c[114], &buff_c[118], w32);
   butterfly_compu(&buff_c[115], &buff_c[119], w48);
   butterfly_compu(&buff_c[120], &buff_c[124], w0);
   butterfly_compu(&buff_c[121], &buff_c[125], w16);
   butterfly_compu(&buff_c[122], &buff_c[126], w32);
   butterfly_compu(&buff_c[123], &buff_c[127], w48);
//第4轮运算
   butterfly_compu(&buff_c[0], &buff_c[8], w0);
   butterfly_compu(&buff_c[1], &buff_c[9], w8);
   butterfly_compu(&buff_c[2], &buff_c[10], w16);
   butterfly_compu(&buff_c[3], &buff_c[11], w24);
   butterfly_compu(&buff_c[4], &buff_c[12], w32);
   butterfly_compu(&buff_c[5], &buff_c[13], w40);
   butterfly_compu(&buff_c[6], &buff_c[14], w48);
   butterfly_compu(&buff_c[7], &buff_c[15], w56);
   butterfly_compu(&buff_c[16], &buff_c[24], w0);
   butterfly_compu(&buff_c[17], &buff_c[25], w8);
   butterfly_compu(&buff_c[18], &buff_c[26], w16);
   butterfly_compu(&buff_c[19], &buff_c[27], w24);
   butterfly_compu(&buff_c[20], &buff_c[28], w32);
   butterfly_compu(&buff_c[21], &buff_c[29], w40);
   butterfly_compu(&buff_c[22], &buff_c[30], w48);
   butterfly_compu(&buff_c[23], &buff_c[31], w56);
   butterfly_compu(&buff_c[32], &buff_c[40], w0);
   butterfly_compu(&buff_c[33], &buff_c[41], w8);
   butterfly_compu(&buff_c[34], &buff_c[42], w16);
   butterfly_compu(&buff_c[35], &buff_c[43], w24);
   butterfly_compu(&buff_c[36], &buff_c[44], w32);
   butterfly_compu(&buff_c[37], &buff_c[45], w40);
   butterfly_compu(&buff_c[38], &buff_c[46], w48);
   butterfly_compu(&buff_c[39], &buff_c[47], w56);
   butterfly_compu(&buff_c[48], &buff_c[56], w0);
   butterfly_compu(&buff_c[49], &buff_c[57], w8);
   butterfly_compu(&buff_c[50], &buff_c[58], w16);
   butterfly_compu(&buff_c[51], &buff_c[59], w24);
   butterfly_compu(&buff_c[52], &buff_c[60], w32);
   butterfly_compu(&buff_c[53], &buff_c[61], w40);
   butterfly_compu(&buff_c[54], &buff_c[62], w48);
   butterfly_compu(&buff_c[55], &buff_c[63], w56);
   butterfly_compu(&buff_c[64], &buff_c[72], w0);
   butterfly_compu(&buff_c[65], &buff_c[73], w8);
   butterfly_compu(&buff_c[66], &buff_c[74], w16);
   butterfly_compu(&buff_c[67], &buff_c[75], w24);
   butterfly_compu(&buff_c[68], &buff_c[76], w32);
   butterfly_compu(&buff_c[69], &buff_c[77], w40);
   butterfly_compu(&buff_c[70], &buff_c[78], w48);
   butterfly_compu(&buff_c[71], &buff_c[79], w56);
   butterfly_compu(&buff_c[80], &buff_c[88], w0);
   butterfly_compu(&buff_c[81], &buff_c[89], w8);
   butterfly_compu(&buff_c[82], &buff_c[90], w16);
   butterfly_compu(&buff_c[83], &buff_c[91], w24);
   butterfly_compu(&buff_c[84], &buff_c[92], w32);
   butterfly_compu(&buff_c[85], &buff_c[93], w40);
   butterfly_compu(&buff_c[86], &buff_c[94], w48);
   butterfly_compu(&buff_c[87], &buff_c[95], w56);
   butterfly_compu(&buff_c[96], &buff_c[104], w0);
   butterfly_compu(&buff_c[97], &buff_c[105], w8);
   butterfly_compu(&buff_c[98], &buff_c[106], w16);
   butterfly_compu(&buff_c[99], &buff_c[107], w24);
   butterfly_compu(&buff_c[100], &buff_c[108], w32);
   butterfly_compu(&buff_c[101], &buff_c[109], w40);
   butterfly_compu(&buff_c[102], &buff_c[110], w48);
   butterfly_compu(&buff_c[103], &buff_c[111], w56);
   butterfly_compu(&buff_c[112], &buff_c[120], w0);
   butterfly_compu(&buff_c[113], &buff_c[121], w8);
   butterfly_compu(&buff_c[114], &buff_c[122], w16);
   butterfly_compu(&buff_c[115], &buff_c[123], w24);
   butterfly_compu(&buff_c[116], &buff_c[124], w32);
   butterfly_compu(&buff_c[117], &buff_c[125], w40);
   butterfly_compu(&buff_c[118], &buff_c[126], w48);
   butterfly_compu(&buff_c[119], &buff_c[127], w56);
//第5轮运算
   butterfly_compu(&buff_c[0], &buff_c[16], w0);
   butterfly_compu(&buff_c[1], &buff_c[17], w4);
   butterfly_compu(&buff_c[2], &buff_c[18], w8);
   butterfly_compu(&buff_c[3], &buff_c[19], w12);
   butterfly_compu(&buff_c[4], &buff_c[20], w16);
   butterfly_compu(&buff_c[5], &buff_c[21], w20);
   butterfly_compu(&buff_c[6], &buff_c[22], w24);
   butterfly_compu(&buff_c[7], &buff_c[23], w28);
   butterfly_compu(&buff_c[8], &buff_c[24], w32);
   butterfly_compu(&buff_c[9], &buff_c[25], w36);
   butterfly_compu(&buff_c[10], &buff_c[26], w40);
   butterfly_compu(&buff_c[11], &buff_c[27], w44);
   butterfly_compu(&buff_c[12], &buff_c[28], w48);
   butterfly_compu(&buff_c[13], &buff_c[29], w52);
   butterfly_compu(&buff_c[14], &buff_c[30], w56);
   butterfly_compu(&buff_c[15], &buff_c[31], w60);
   butterfly_compu(&buff_c[32], &buff_c[48], w0);
   butterfly_compu(&buff_c[33], &buff_c[49], w4);
   butterfly_compu(&buff_c[34], &buff_c[50], w8);
   butterfly_compu(&buff_c[35], &buff_c[51], w12);
   butterfly_compu(&buff_c[36], &buff_c[52], w16);
   butterfly_compu(&buff_c[37], &buff_c[53], w20);
   butterfly_compu(&buff_c[38], &buff_c[54], w24);
   butterfly_compu(&buff_c[39], &buff_c[55], w28);
   butterfly_compu(&buff_c[40], &buff_c[56], w32);
   butterfly_compu(&buff_c[41], &buff_c[57], w36);
   butterfly_compu(&buff_c[42], &buff_c[58], w40);
   butterfly_compu(&buff_c[43], &buff_c[59], w44);
   butterfly_compu(&buff_c[44], &buff_c[60], w48);
   butterfly_compu(&buff_c[45], &buff_c[61], w52);
   butterfly_compu(&buff_c[46], &buff_c[62], w56);
   butterfly_compu(&buff_c[47], &buff_c[63], w60);
   butterfly_compu(&buff_c[64], &buff_c[80], w0);
   butterfly_compu(&buff_c[65], &buff_c[81], w4);
   butterfly_compu(&buff_c[66], &buff_c[82], w8);
   butterfly_compu(&buff_c[67], &buff_c[83], w12);
   butterfly_compu(&buff_c[68], &buff_c[84], w16);
   butterfly_compu(&buff_c[69], &buff_c[85], w20);
   butterfly_compu(&buff_c[70], &buff_c[86], w24);
   butterfly_compu(&buff_c[71], &buff_c[87], w28);
   butterfly_compu(&buff_c[72], &buff_c[88], w32);
   butterfly_compu(&buff_c[73], &buff_c[89], w36);
   butterfly_compu(&buff_c[74], &buff_c[90], w40);
   butterfly_compu(&buff_c[75], &buff_c[91], w44);
   butterfly_compu(&buff_c[76], &buff_c[92], w48);
   butterfly_compu(&buff_c[77], &buff_c[93], w52);
   butterfly_compu(&buff_c[78], &buff_c[94], w56);
   butterfly_compu(&buff_c[79], &buff_c[95], w60);
   butterfly_compu(&buff_c[96], &buff_c[112], w0);
   butterfly_compu(&buff_c[97], &buff_c[113], w4);
   butterfly_compu(&buff_c[98], &buff_c[114], w8);
   butterfly_compu(&buff_c[99], &buff_c[115], w12);
   butterfly_compu(&buff_c[100], &buff_c[116], w16);
   butterfly_compu(&buff_c[101], &buff_c[117], w20);
   butterfly_compu(&buff_c[102], &buff_c[118], w24);
   butterfly_compu(&buff_c[103], &buff_c[119], w28);
   butterfly_compu(&buff_c[104], &buff_c[120], w32);
   butterfly_compu(&buff_c[105], &buff_c[121], w36);
   butterfly_compu(&buff_c[106], &buff_c[122], w40);
   butterfly_compu(&buff_c[107], &buff_c[123], w44);
   butterfly_compu(&buff_c[108], &buff_c[124], w48);
   butterfly_compu(&buff_c[109], &buff_c[125], w52);
   butterfly_compu(&buff_c[110], &buff_c[126], w56);
   butterfly_compu(&buff_c[111], &buff_c[127], w60);
//第6轮运算
   butterfly_compu(&buff_c[0], &buff_c[32], w0);
   butterfly_compu(&buff_c[1], &buff_c[33], w2);
   butterfly_compu(&buff_c[2], &buff_c[34], w4);
   butterfly_compu(&buff_c[3], &buff_c[35], w6);
   butterfly_compu(&buff_c[4], &buff_c[36], w8);
   butterfly_compu(&buff_c[5], &buff_c[37], w10);
   butterfly_compu(&buff_c[6], &buff_c[38], w12);
   butterfly_compu(&buff_c[7], &buff_c[39], w14);
   butterfly_compu(&buff_c[8], &buff_c[40], w16);
   butterfly_compu(&buff_c[9], &buff_c[41], w18);
   butterfly_compu(&buff_c[10], &buff_c[42], w20);
   butterfly_compu(&buff_c[11], &buff_c[43], w22);
   butterfly_compu(&buff_c[12], &buff_c[44], w24);
   butterfly_compu(&buff_c[13], &buff_c[45], w26);
   butterfly_compu(&buff_c[14], &buff_c[46], w28);
   butterfly_compu(&buff_c[15], &buff_c[47], w30);
   butterfly_compu(&buff_c[16], &buff_c[48], w32);
   butterfly_compu(&buff_c[17], &buff_c[49], w34);
   butterfly_compu(&buff_c[18], &buff_c[50], w36);
   butterfly_compu(&buff_c[19], &buff_c[51], w38);
   butterfly_compu(&buff_c[20], &buff_c[52], w40);
   butterfly_compu(&buff_c[21], &buff_c[53], w42);
   butterfly_compu(&buff_c[22], &buff_c[54], w44);
   butterfly_compu(&buff_c[23], &buff_c[55], w46);
   butterfly_compu(&buff_c[24], &buff_c[56], w48);
   butterfly_compu(&buff_c[25], &buff_c[57], w50);
   butterfly_compu(&buff_c[26], &buff_c[58], w52);
   butterfly_compu(&buff_c[27], &buff_c[59], w54);
   butterfly_compu(&buff_c[28], &buff_c[60], w56);
   butterfly_compu(&buff_c[29], &buff_c[61], w58);
   butterfly_compu(&buff_c[30], &buff_c[62], w60);
   butterfly_compu(&buff_c[31], &buff_c[63], w62);
   butterfly_compu(&buff_c[64], &buff_c[96], w0);
   butterfly_compu(&buff_c[65], &buff_c[97], w2);
   butterfly_compu(&buff_c[66], &buff_c[98], w4);
   butterfly_compu(&buff_c[67], &buff_c[99], w6);
   butterfly_compu(&buff_c[68], &buff_c[100], w8);
   butterfly_compu(&buff_c[69], &buff_c[101], w10);
   butterfly_compu(&buff_c[70], &buff_c[102], w12);
   butterfly_compu(&buff_c[71], &buff_c[103], w14);
   butterfly_compu(&buff_c[72], &buff_c[104], w16);
   butterfly_compu(&buff_c[73], &buff_c[105], w18);
   butterfly_compu(&buff_c[74], &buff_c[106], w20);
   butterfly_compu(&buff_c[75], &buff_c[107], w22);
   butterfly_compu(&buff_c[76], &buff_c[108], w24);
   butterfly_compu(&buff_c[77], &buff_c[109], w26);
   butterfly_compu(&buff_c[78], &buff_c[110], w28);
   butterfly_compu(&buff_c[79], &buff_c[111], w30);
   butterfly_compu(&buff_c[80], &buff_c[112], w32);
   butterfly_compu(&buff_c[81], &buff_c[113], w34);
   butterfly_compu(&buff_c[82], &buff_c[114], w36);
   butterfly_compu(&buff_c[83], &buff_c[115], w38);
   butterfly_compu(&buff_c[84], &buff_c[116], w40);
   butterfly_compu(&buff_c[85], &buff_c[117], w42);
   butterfly_compu(&buff_c[86], &buff_c[118], w44);
   butterfly_compu(&buff_c[87], &buff_c[119], w46);
   butterfly_compu(&buff_c[88], &buff_c[120], w48);
   butterfly_compu(&buff_c[89], &buff_c[121], w50);
   butterfly_compu(&buff_c[90], &buff_c[122], w52);
   butterfly_compu(&buff_c[91], &buff_c[123], w54);
   butterfly_compu(&buff_c[92], &buff_c[124], w56);
   butterfly_compu(&buff_c[93], &buff_c[125], w58);
   butterfly_compu(&buff_c[94], &buff_c[126], w60);
   butterfly_compu(&buff_c[95], &buff_c[127], w62);
//第7轮运算
   butterfly_compu(&buff_c[0], &buff_c[64], w0);
   butterfly_compu(&buff_c[1], &buff_c[65], w1);
   butterfly_compu(&buff_c[2], &buff_c[66], w2);
   butterfly_compu(&buff_c[3], &buff_c[67], w3);
   butterfly_compu(&buff_c[4], &buff_c[68], w4);
   butterfly_compu(&buff_c[5], &buff_c[69], w5);
   butterfly_compu(&buff_c[6], &buff_c[70], w6);
   butterfly_compu(&buff_c[7], &buff_c[71], w7);
   butterfly_compu(&buff_c[8], &buff_c[72], w8);
   butterfly_compu(&buff_c[9], &buff_c[73], w9);
   butterfly_compu(&buff_c[10], &buff_c[74], w10);
   butterfly_compu(&buff_c[11], &buff_c[75], w11);
   butterfly_compu(&buff_c[12], &buff_c[76], w12);
   butterfly_compu(&buff_c[13], &buff_c[77], w13);
   butterfly_compu(&buff_c[14], &buff_c[78], w14);
   butterfly_compu(&buff_c[15], &buff_c[79], w15);
   butterfly_compu(&buff_c[16], &buff_c[80], w16);
   butterfly_compu(&buff_c[17], &buff_c[81], w17);
   butterfly_compu(&buff_c[18], &buff_c[82], w18);
   butterfly_compu(&buff_c[19], &buff_c[83], w19);
   butterfly_compu(&buff_c[20], &buff_c[84], w20);
   butterfly_compu(&buff_c[21], &buff_c[85], w21);
   butterfly_compu(&buff_c[22], &buff_c[86], w22);
   butterfly_compu(&buff_c[23], &buff_c[87], w23);
   butterfly_compu(&buff_c[24], &buff_c[88], w24);
   butterfly_compu(&buff_c[25], &buff_c[89], w25);
   butterfly_compu(&buff_c[26], &buff_c[90], w26);
   butterfly_compu(&buff_c[27], &buff_c[91], w27);
   butterfly_compu(&buff_c[28], &buff_c[92], w28);
   butterfly_compu(&buff_c[29], &buff_c[93], w29);
   butterfly_compu(&buff_c[30], &buff_c[94], w30);
   butterfly_compu(&buff_c[31], &buff_c[95], w31);
   butterfly_compu(&buff_c[32], &buff_c[96], w32);
   butterfly_compu(&buff_c[33], &buff_c[97], w33);
   butterfly_compu(&buff_c[34], &buff_c[98], w34);
   butterfly_compu(&buff_c[35], &buff_c[99], w35);
   butterfly_compu(&buff_c[36], &buff_c[100], w36);
   butterfly_compu(&buff_c[37], &buff_c[101], w37);
   butterfly_compu(&buff_c[38], &buff_c[102], w38);
   butterfly_compu(&buff_c[39], &buff_c[103], w39);
   butterfly_compu(&buff_c[40], &buff_c[104], w40);
   butterfly_compu(&buff_c[41], &buff_c[105], w41);
   butterfly_compu(&buff_c[42], &buff_c[106], w42);
   butterfly_compu(&buff_c[43], &buff_c[107], w43);
   butterfly_compu(&buff_c[44], &buff_c[108], w44);
   butterfly_compu(&buff_c[45], &buff_c[109], w45);
   butterfly_compu(&buff_c[46], &buff_c[110], w46);
   butterfly_compu(&buff_c[47], &buff_c[111], w47);
   butterfly_compu(&buff_c[48], &buff_c[112], w48);
   butterfly_compu(&buff_c[49], &buff_c[113], w49);
   butterfly_compu(&buff_c[50], &buff_c[114], w50);
   butterfly_compu(&buff_c[51], &buff_c[115], w51);
   butterfly_compu(&buff_c[52], &buff_c[116], w52);
   butterfly_compu(&buff_c[53], &buff_c[117], w53);
   butterfly_compu(&buff_c[54], &buff_c[118], w54);
   butterfly_compu(&buff_c[55], &buff_c[119], w55);
   butterfly_compu(&buff_c[56], &buff_c[120], w56);
   butterfly_compu(&buff_c[57], &buff_c[121], w57);
   butterfly_compu(&buff_c[58], &buff_c[122], w58);
   butterfly_compu(&buff_c[59], &buff_c[123], w59);
   butterfly_compu(&buff_c[60], &buff_c[124], w60);
   butterfly_compu(&buff_c[61], &buff_c[125], w61);
   butterfly_compu(&buff_c[62], &buff_c[126], w62);
   butterfly_compu(&buff_c[63], &buff_c[127], w63);
    for (size_t i = 0; i < 128; i++)
    {
        *(buff + i * 2) = buff_c[i].re;
        *(buff + i * 2 + 1) = buff_c[i].im;
    }
    free(buff_c);
}
